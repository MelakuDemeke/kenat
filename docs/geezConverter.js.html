<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: geezConverter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: geezConverter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * ethiopianNumberConverter.js
 *
 * Converts Arabic numerals (natural numbers) to their equivalent Ethiopic numerals.
 * Supports numbers from 1 up to 99999999.
 * 
 * Example:
 *   toGeez(1);     // '፩'
 *   toGeez(30);    // '፴'
 *   toGeez(123);   // '፻፳፫'
 *   toGeez(10000); // '፼'
 * 
 * @author Melaku Demeke
 * @license MIT
 */

const symbols = {
    ones: ['', '፩', '፪', '፫', '፬', '፭', '፮', '፯', '፰', '፱'],
    tens: ['', '፲', '፳', '፴', '፵', '፶', '፷', '፸', '፹', '፺'],
    hundred: '፻',
    tenThousand: '፼'
};

/**
 * Converts a natural number to Ethiopic numeral string.
 * 
 * @param {number|string} input - The number to convert (positive integer only).
 * @returns {string} Ethiopic numeral string.
 * @throws {Error} If input is not a valid positive integer.
 */
export function toGeez(input) {
    if (!/^\d+$/.test(input.toString())) {
        throw new Error("Input must be a natural number.");
    }

    let number = parseInt(input, 10);
    if (number === 0) return '0';

    let result = '';
    let blocks = [];
    let index = 0;

    // Break number into pairs of 2 digits from the right
    while (number > 0) {
        blocks.unshift(number % 100);
        number = Math.floor(number / 100);
    }

    for (let i = 0; i &lt; blocks.length; i++) {
        const block = blocks[i];
        const isLastBlock = i === blocks.length - 1;
        const [tensDigit, onesDigit] = [Math.floor(block / 10), block % 10];
        let part = '';

        if (block !== 0) {
            if (!(blocks.length > 1 &amp;&amp; i === 0 &amp;&amp; block === 1)) {
                part = symbols.tens[tensDigit] + symbols.ones[onesDigit];
            }

            const position = blocks.length - i - 1;
            if (position % 2 === 0 &amp;&amp; position !== 0) {
                part += symbols.tenThousand;
            } else if (position % 2 !== 0 &amp;&amp; position !== 0) {
                part += symbols.hundred;
            }
        }

        result += part;
    }

    return result;
}


/**
 * Converts a Ge'ez numeral string to its Arabic numeral equivalent.
 *
 * @param {string} geezStr - The Ge'ez numeral string to convert.
 * @returns {number} The Arabic numeral representation of the input string.
 * @throws {Error} If the input contains an unknown Ge'ez numeral character.
 */
export function toArabic(geezStr) {
    const reverseMap = {};
    if (typeof geezStr !== 'string' || geezStr.trim() === '') {
        throw new Error('Geez input must be a non-empty string.');
    }

    // Build reverse map from existing symbols
    symbols.ones.forEach((char, i) => {
        if (char) reverseMap[char] = i;
    });
    symbols.tens.forEach((char, i) => {
        if (char) reverseMap[char] = i * 10;
    });
    reverseMap[symbols.hundred] = 100;
    reverseMap[symbols.tenThousand] = 10000;

    let result = 0;
    let temp = 0;

    for (const char of geezStr) {
        const value = reverseMap[char];

        if (value === undefined) {
            throw new Error(`Unknown Ge'ez numeral: ${char}`);
        }

        if (value === 100 || value === 10000) {
            temp = (temp || 1) * value;
            result += temp;
            temp = 0;
        } else {
            temp += value;
        }
    }

    result += temp;

    return result;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Kenat.html">Kenat</a></li></ul><h3>Global</h3><ul><li><a href="global.html#dayOfYear">dayOfYear</a></li><li><a href="global.html#ethiopianToGregorian">ethiopianToGregorian</a></li><li><a href="global.html#getEthiopianDaysInMonth">getEthiopianDaysInMonth</a></li><li><a href="global.html#getEthiopianNewYearForGregorian">getEthiopianNewYearForGregorian</a></li><li><a href="global.html#getGregorianDateOfEthiopianNewYear">getGregorianDateOfEthiopianNewYear</a></li><li><a href="global.html#getWeekday">getWeekday</a></li><li><a href="global.html#gregorianToEthiopian">gregorianToEthiopian</a></li><li><a href="global.html#isEthiopianLeapYear">isEthiopianLeapYear</a></li><li><a href="global.html#isGregorianLeapYear">isGregorianLeapYear</a></li><li><a href="global.html#monthDayFromDayOfYear">monthDayFromDayOfYear</a></li><li><a href="global.html#symbols">symbols</a></li><li><a href="global.html#toArabic">toArabic</a></li><li><a href="global.html#toGeez">toGeez</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed May 28 2025 17:58:33 GMT+0300 (East Africa Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
